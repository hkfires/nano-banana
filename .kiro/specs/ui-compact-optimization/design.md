# Design Document

## Overview

本设计文档详细说明了如何优化 Nano Banana 应用的用户界面，通过系统性地调整内边距、按钮大小和文字尺寸来实现更紧凑的布局。设计遵循渐进式优化原则，确保在提高空间利用率的同时保持良好的用户体验。

## Architecture

### 样式优化策略

-   **渐进式缩减**: 按比例减少各种尺寸，而不是激进的大幅调整
-   **层次保持**: 维持现有的视觉层次结构和信息架构
-   **响应式兼容**: 确保优化后的样式在各种屏幕尺寸下都能正常工作
-   **一致性原则**: 所有组件采用统一的缩减比例和间距标准

### 优化目标尺寸

-   **内边距缩减**: 将大部分 `p-6` 和 `p-8` 调整为 `p-4` 和 `p-3`
-   **按钮尺寸**: 将 `px-8 py-4` 调整为 `px-6 py-3`，文字从 `text-lg` 调整为 `text-base`
-   **文字大小**: 标题从 `text-3xl` 调整为 `text-2xl`，正文适当缩小
-   **间距优化**: 减少组件间的 `gap` 和 `margin` 值

## Components and Interfaces

### 1. App.vue 主应用组件

**当前问题**:

-   容器内边距过大 (`px-4 py-6`)
-   标题文字过大 (`text-3xl`, `text-4xl`)
-   组件间距过大 (`gap-6 lg:gap-8`, `mb-8`)

**优化方案**:

-   容器内边距: `px-4 py-6` → `px-3 py-4`
-   主标题: `text-3xl` → `text-2xl`, `text-4xl` → `text-3xl`
-   组件间距: `gap-6 lg:gap-8` → `gap-4 lg:gap-6`, `mb-8` → `mb-6`
-   头部内边距: `p-4` → `p-3`

### 2. ImageUpload.vue 图片上传组件

**当前问题**:

-   组件内边距过大 (`p-6`)
-   上传区域内边距过大 (`p-8`)
-   图标尺寸过大 (`w-16 h-16`, `w-8 h-8`)
-   标题文字过大 (`text-xl`)

**优化方案**:

-   组件内边距: `p-6` → `p-4`
-   上传区域内边距: `p-8` → `p-6`
-   图标容器: `w-16 h-16` → `w-12 h-12`
-   图标: `w-8 h-8` → `w-6 h-6`
-   标题: `text-xl` → `text-lg`
-   缩略图间距: `gap-4 mt-6` → `gap-3 mt-4`

### 3. ResultDisplay.vue 结果显示组件

**当前问题**:

-   组件内边距过大 (`p-6`)
-   内容区域内边距过大 (`p-8`)
-   图标尺寸过大 (`w-16 h-16`)
-   标题文字过大 (`text-lg`)

**优化方案**:

-   组件内边距: `p-6` → `p-4`
-   内容区域内边距: `p-8` → `p-6`
-   图标容器: `w-16 h-16` → `w-12 h-12`
-   标题: `text-lg` → `text-base`
-   最小高度: `min-h-[500px]` → `min-h-[400px]`

### 4. GenerateButton.vue 生成按钮组件

**当前问题**:

-   按钮内边距过大 (`px-8 py-4`)
-   文字过大 (`text-lg`)
-   最小宽度过大 (`min-w-[200px]`)
-   图标间距过大 (`gap-3`)

**优化方案**:

-   按钮内边距: `px-8 py-4` → `px-6 py-3`
-   文字大小: `text-lg` → `text-base`
-   最小宽度: `min-w-[200px]` → `min-w-[160px]`
-   图标间距: `gap-3` → `gap-2`
-   加载图标: `w-8 h-8` → `w-6 h-6`

### 5. StylePromptSelector.vue 风格选择组件

**当前问题**:

-   组件内边距过大 (`p-6`)
-   标签页内边距过大 (`py-2 px-4`)
-   风格选项内边距过大 (`p-4`)
-   缩略图过大 (`w-16 h-16`)

**优化方案**:

-   组件内边距: `p-6` → `p-4`
-   标签页间距: `mb-6` → `mb-4`
-   标签页内边距: `py-2 px-4` → `py-2 px-3`
-   风格选项内边距: `p-4` → `p-3`
-   风格选项间距: `space-y-3` → `space-y-2`
-   缩略图: `w-16 h-16` → `w-12 h-12`
-   标题: `text-lg` → `text-base`

### 6. ApiKeyInput.vue API 密钥输入组件

**当前问题**:

-   组件内边距过大 (`p-4`)
-   输入框内边距过大 (`px-4 py-3`)
-   间距过大 (`space-y-3`, `mb-3`)

**优化方案**:

-   组件内边距: `p-4` → `p-3`
-   输入框内边距: `px-4 py-3` → `px-3 py-2`
-   垂直间距: `space-y-3` → `space-y-2`
-   标题间距: `mb-3` → `mb-2`

## Data Models

### 样式配置对象

```typescript
interface CompactStyles {
    container: {
        padding: string
        gap: string
        margin: string
    }
    text: {
        title: string
        subtitle: string
        body: string
        small: string
    }
    button: {
        padding: string
        fontSize: string
        minWidth: string
    }
    component: {
        padding: string
        gap: string
        iconSize: string
    }
}
```

### 响应式断点考虑

-   **移动设备**: 保持足够的触摸目标大小 (最小 44px)
-   **平板设备**: 适中的间距和文字大小
-   **桌面设备**: 更紧凑的布局，充分利用屏幕空间

## Error Handling

### 样式兼容性

-   **浏览器兼容**: 确保 Tailwind CSS 类在目标浏览器中正确渲染
-   **响应式失效**: 提供降级方案，确保在极小屏幕上仍可用
-   **可访问性**: 确保文字大小符合 WCAG 可访问性标准 (最小 14px)

### 用户体验保护

-   **点击目标**: 确保所有交互元素保持足够的点击区域
-   **文字可读性**: 避免文字过小导致阅读困难
-   **视觉层次**: 保持清晰的信息层次结构

## Testing Strategy

### 视觉回归测试

1. **截图对比**: 对比优化前后的页面截图
2. **响应式测试**: 在不同屏幕尺寸下验证布局
3. **交互测试**: 确保所有按钮和输入框正常工作

### 用户体验测试

1. **可用性测试**: 验证紧凑布局不影响操作效率
2. **可访问性测试**: 使用屏幕阅读器和键盘导航测试
3. **性能测试**: 确保样式更改不影响页面加载速度

### 浏览器兼容性测试

1. **主流浏览器**: Chrome, Firefox, Safari, Edge
2. **移动浏览器**: iOS Safari, Chrome Mobile
3. **不同分辨率**: 从 320px 到 1920px 宽度范围

### 测试检查清单

-   [ ] 所有文字在最小尺寸下仍可清晰阅读
-   [ ] 所有按钮在移动设备上仍易于点击
-   [ ] 页面在不同屏幕尺寸下保持良好布局
-   [ ] 视觉层次和品牌风格得到保持
-   [ ] 所有交互功能正常工作
-   [ ] 符合 Web 可访问性标准
